import e,{forwardRef as r}from"react";import{useLeafyGreenChatContext as t,LeafyGreenChatProvider as a}from"@lg-chat/leafygreen-chat-provider";import{storybookArgTypes as n}from"@lg-tools/storybook-utils";import{fontFamilies as i,breakpoints as o}from"@leafygreen-ui/tokens";import{css as l,cx as s}from"@leafygreen-ui/emotion";import c from"@leafygreen-ui/icon/dist/Person";import{useDarkMode as d}from"@leafygreen-ui/leafygreen-provider";import{palette as m}from"@leafygreen-ui/palette";import{Theme as f}from"@leafygreen-ui/lib";import{MongoDBLogoMark as u}from"@leafygreen-ui/logo";function v(e,r,t){return(r=function(e){var r=function(e,r){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,r||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:String(r)}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function g(){return g=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},g.apply(this,arguments)}function p(e,r){if(null==e)return{};var t,a,n=function(e,r){if(null==e)return{};var t,a,n={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],r.indexOf(t)>=0||(n[t]=e[t]);return n}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}function b(e,r){return r||(r=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}}))}var y,h,k,z,N,O,j,w="small",E="default",x=(v(y={},E,52),v(y,w,40),y),M=l(h||(h=b(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-shrink: 0;\n  width: 52px;\n  height: 52px;\n  line-height: 1;\n  border-radius: 50%;\n  overflow: hidden;\n  user-select: none;\n  background-color: ",";\n"])),m.gray.light1),P=["className","children","size","sizeOverride"],A=r((function(r,t){var a=r.className,n=r.children,i=r.size,o=void 0===i?E:i,c=r.sizeOverride,d=p(r,P),m=null!=c?c:x[o];return e.createElement("div",g({className:s(M,l(k||(k=b(["\n            width: ","px;\n            height: ","px;\n          "])),m,m),a)},d,{ref:t}),n)}));A.displayName="Avatar";var S,T,D,L,C=(v(O={},f.Dark,l(z||(z=b(["\n    background-color: ",";\n  "])),m.gray.dark2)),v(O,f.Light,l(N||(N=b(["\n    background-color: ",";\n  "])),m.gray.base)),O),F=l(j||(j=b(["\n  width: 53.8%;\n  height: 53.8%;\n"]))),I=["className","name","darkMode","size"],U=r((function(r,t){var a=r.className,n=r.name,i=r.darkMode,o=r.size,l=void 0===o?E:o,f=p(r,I),u=d(i),v=u.darkMode,b=u.theme;return e.createElement(A,g({className:s(C[b],a),size:l,"data-testid":"fallback-avatar"},f,{ref:t}),e.createElement(c,{className:F,fill:v?m.gray.light1:m.white,"aria-label":n}))}));U.displayName="FallbackAvatar";var W=(v(D={},f.Dark,l(S||(S=b(["\n    background-color: ",";\n  "])),m.green.dark3)),v(D,f.Light,l(T||(T=b(["\n    background-color: ",";\n  "])),m.black)),D),q=l(L||(L=b(["\n  height: 61.5%; // set to percentage to keep it responsive to all sizeOverride values\n"]))),B=["className","darkMode","size"],G=r((function(r,t){var a=r.className,n=r.darkMode,i=r.size,o=void 0===i?E:i,l=p(r,B),c=d(n).theme;return e.createElement(A,g({className:s(W[c],a),size:o,"data-testid":"mongo-avatar"},l,{ref:t}),e.createElement(u,{color:"green-base",className:q}))}));G.displayName="MongoAvatar";var H,J,K,Q,R=l(H||(H=b(["\n  background-color: ",";\n  color: ",";\n  font-family: ",";\n"])),m.gray.dark1,m.white,i.default),V=(v(Q={},E,l(J||(J=b(["\n    font-size: 20px;\n  "])))),v(Q,w,l(K||(K=b(["\n    font-size: 15px;\n  "])))),Q),X=["className","name","darkMode","size"],Y=r((function(r,t){var a=r.className,n=r.name,i=r.darkMode,o=r.size,l=void 0===o?E:o,c=p(r,X),m=d(i).darkMode;return n?e.createElement(A,g({className:s(R,V[l],a),size:l,"data-testid":"user-avatar",ref:t},c),n.split(" ").map((function(e){return e[0]})).join("")):e.createElement(U,g({className:a,darkMode:m,size:l,ref:t},c))}));Y.displayName="UserAvatar";var Z="mongo",$="user",_="default",ee=["variant","size"],re=r((function(r,a){var n=r.variant,i=void 0===n?_:n,l=r.size,s=p(r,ee),c=t().containerWidth,d=l||c&&c<o.Tablet?w:E;switch(i){case Z:return e.createElement(G,g({},s,{size:d,ref:a}));case $:return e.createElement(Y,g({},s,{size:d,ref:a}));default:return e.createElement(U,g({},s,{size:d,ref:a}))}}));re.displayName="Avatar";var te={title:"Chat/Avatar",component:re,argTypes:{darkMode:n.darkMode,name:{control:"text"},sizeOverride:{control:"number"}}},ae=function(r){return e.createElement(a,null,e.createElement(re,r))}.bind({});export{ae as Basic,te as default};
