import e,{forwardRef as r}from"react";import{useLeafyGreenChatContext as a,LeafyGreenChatProvider as t}from"@lg-chat/leafygreen-chat-provider";import{Theme as n,storybookArgTypes as i}from"@leafygreen-ui/lib";import{fontFamilies as o,breakpoints as l}from"@leafygreen-ui/tokens";import{css as s,cx as c}from"@leafygreen-ui/emotion";import d from"@leafygreen-ui/icon/dist/Person";import{useDarkMode as f}from"@leafygreen-ui/leafygreen-provider";import{palette as m}from"@leafygreen-ui/palette";import{MongoDBLogoMark as u}from"@leafygreen-ui/logo";function v(e,r,a){return(r=function(e){var r=function(e,r){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var t=a.call(e,r||"default");if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:String(r)}(r))in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function g(){return g=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e},g.apply(this,arguments)}function p(e,r){if(null==e)return{};var a,t,n=function(e,r){if(null==e)return{};var a,t,n={},i=Object.keys(e);for(t=0;t<i.length;t++)a=i[t],r.indexOf(a)>=0||(n[a]=e[a]);return n}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)a=i[t],r.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function b(e,r){return r||(r=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}}))}var y,h,k,z,N,O,j,w="small",E="default",x=(v(y={},E,52),v(y,w,40),y),M=s(h||(h=b(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-shrink: 0;\n  width: 52px;\n  height: 52px;\n  line-height: 1;\n  border-radius: 50%;\n  overflow: hidden;\n  user-select: none;\n  background-color: ",";\n"])),m.gray.light1),P=["className","children","size","sizeOverride"],A=r((function(r,a){var t=r.className,n=r.children,i=r.size,o=void 0===i?E:i,l=r.sizeOverride,d=p(r,P),f=null!=l?l:x[o];return e.createElement("div",g({className:c(M,s(k||(k=b(["\n            width: ","px;\n            height: ","px;\n          "])),f,f),t)},d,{ref:a}),n)}));A.displayName="Avatar";var S,T,D,L,C=(v(O={},n.Dark,s(z||(z=b(["\n    background-color: ",";\n  "])),m.gray.dark2)),v(O,n.Light,s(N||(N=b(["\n    background-color: ",";\n  "])),m.gray.base)),O),F=s(j||(j=b(["\n  width: 53.8%;\n  height: 53.8%;\n"]))),I=["className","name","darkMode","size"],U=r((function(r,a){var t=r.className,n=r.name,i=r.darkMode,o=r.size,l=void 0===o?E:o,s=p(r,I),u=f(i),v=u.darkMode,b=u.theme;return e.createElement(A,g({className:c(C[b],t),size:l,"data-testid":"fallback-avatar"},s,{ref:a}),e.createElement(d,{className:F,fill:v?m.gray.light1:m.white,"aria-label":n}))}));U.displayName="FallbackAvatar";var W=(v(D={},n.Dark,s(S||(S=b(["\n    background-color: ",";\n  "])),m.green.dark3)),v(D,n.Light,s(T||(T=b(["\n    background-color: ",";\n  "])),m.black)),D),q=s(L||(L=b(["\n  height: 61.5%; // set to percentage to keep it responsive to all sizeOverride values\n"]))),B=["className","darkMode","size"],G=r((function(r,a){var t=r.className,n=r.darkMode,i=r.size,o=void 0===i?E:i,l=p(r,B),s=f(n).theme;return e.createElement(A,g({className:c(W[s],t),size:o,"data-testid":"mongo-avatar"},l,{ref:a}),e.createElement(u,{color:"green-base",className:q}))}));G.displayName="MongoAvatar";var H,J,K,Q,R=s(H||(H=b(["\n  background-color: ",";\n  color: ",";\n  font-family: ",";\n"])),m.gray.dark1,m.white,o.default),V=(v(Q={},E,s(J||(J=b(["\n    font-size: 20px;\n  "])))),v(Q,w,s(K||(K=b(["\n    font-size: 15px;\n  "])))),Q),X=["className","name","darkMode","size"],Y=r((function(r,a){var t=r.className,n=r.name,i=r.darkMode,o=r.size,l=void 0===o?E:o,s=p(r,X),d=f(i).darkMode;return n?e.createElement(A,g({className:c(R,V[l],t),size:l,"data-testid":"user-avatar",ref:a},s),n.split(" ").map((function(e){return e[0]})).join("")):e.createElement(U,g({className:t,darkMode:d,size:l,ref:a},s))}));Y.displayName="UserAvatar";var Z="mongo",$="user",_="default",ee=["variant","size"],re=r((function(r,t){var n=r.variant,i=void 0===n?_:n,o=r.size,s=p(r,ee),c=a().containerWidth,d=o||c&&c<l.Tablet?w:E;switch(i){case Z:return e.createElement(G,g({},s,{size:d,ref:t}));case $:return e.createElement(Y,g({},s,{size:d,ref:t}));default:return e.createElement(U,g({},s,{size:d,ref:t}))}}));re.displayName="Avatar";var ae={title:"Chat/Avatar",component:re,argTypes:{darkMode:i.darkMode,name:{control:"text"},sizeOverride:{control:"number"}}},te=function(r){return e.createElement(t,null,e.createElement(re,r))}.bind({});export{te as Basic,ae as default};
